# Sandbox for Enterprise Software

Данный репозиторий представляет коллекцию полезных практик (best-practice)
применяемых при разработке корпоративного программного обеспечения, однако и
более маленькие проекты могут извлечь пользу от их применения.

Ниже представлены тезисы, пример реализации которых можно увидеть в этой песочнице.


## База данных и хранимки as code

DDL базы данных, код представлений, хранимых процедур и функций - должен
находиться в системе контроля версий и "раскатываться" автоматически в CI/CD.

Нужно иметь возможность легко поднять окружение для разработки. 

```
cd development
docker compose up --build

cd entrypoints/site01/db/md
make venv-init
make create-tables create-routines loaddata
```


## База данных и Test Drive Development

Пишите тесты которые можно запускать автоматически, гарантия того, что новый
код не сломал уже работающий функционал - стоит того.

```
cd development
docker compose up --build

cd entrypoints/site01/db/md
make venv-init
make lint test-unit test
```


## Откажитесь от ORM

ORM дают ложно чувство простоты, разработчик backend **обязан** уметь работать
с БД нативным способом. Для реляционных БД нужно оставить доступ к данным только
через объекты БД: представления, хранимые процедуры и функции.

Однако не стоит быть догматиком, Django Admin это действительно быстро и удобно,
но оставьте его для администраторов системы. Мало-мальски комплексный отчет
вытаскивающий данные из БД через Django ORM ужасен, напишите хранимую процедуру.
